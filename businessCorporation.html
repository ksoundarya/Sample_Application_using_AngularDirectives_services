<ng-form name="businessEntityForm">
    <div ng-hide="cart_has_bus_soln_alone_product" class="form-row" ng-class="{ 'error' : ( businessEntityForm.fedTaxIDNumber.$invalid && businessEntityForm.fedTaxIDNumber.$touched )}">
        <label for="onclicktip2">Federal Tax ID (Employer ID Number)</label>
        <div class="field-group tooltip-onclick" ddh-tooltip>
            <input type="text" class="span12" id="onclicktip2" placeholder="Example: XX-XXXXXXX" ng-pattern="/(^(([\d]{2}\-){1}([\d]{7})|[\d]{9})$)|(^(XXXXX)(\d{4})$)/" onkeydown="this.value=this.value.replace(/(\d{2})\-?(\d{1})/,'$1-$2')" minlength="9" maxlength="10" ng-model="data.businessCreditInfo.identityNumber"  ng-required="!cart_has_bus_soln_alone_product" name="fedTaxIDNumber">
            <button class="reset-field" type="button" aria-label="Reset text field"></button>
            <button id="tooltipButton2" class="btn icon-tooltip tooltip-element" type="button" data-toggle="button"
                    aria-label="ID help"></button>
            <div class="helpertext" id="tooltipContent2" role="tooltip">
                <div class="popover-content">
                    <p>The unique 9-digit number assigned to your business by the Internal Revenue
                        Service.</p>
                </div>
            </div>
        </div>
        <div class="error-msg">
            <span ng-messages="businessEntityForm.fedTaxIDNumber.$error" ng-if="businessEntityForm.fedTaxIDNumber.$touched">
                <span ng-message="required">Required field</span>
                <span ng-message="pattern">Enter a valid Federal Tax ID Number</span>
                <span ng-message="minlength">Enter a valid Federal Tax ID Number</span>
                <span ng-message="maxlength">Tax ID length is exceeding</span>
            </span>
        </div>
    </div>
    <div class="mTop30">
        <h3>Officer
        <span  class="tooltip mTopMinus5 ng-scope" ddh-tooltip=""><a aria-describedby="tooltiptext" href="#" class="icon-tooltip tooltip-element" tabindex="0" role="button" data-placement="bottom" aria-label="" aria-expanded="true"><span class="arrow"></span></a>
    <span class="tooltip-wrapper">
        <span style="left: 545px;" class="tooltip-size-control popover-content">
            <span id="tooltiptext" role="tooltip" aria-hidden="true" class="helpertext" tabindex="-1">The name of the person responsible for your AT&T bill.
                <span class="popover-content">
                    <span class="ng-binding"></span>
                </span>
            </span>
        </span>
    </span>
    </span>
        </h3>

        <div class="row span12 span12-sm ">
            <div class="span12 form-row span6-sm"
                 ng-class="{ 'error' : ( businessEntityForm.of1firstName.$invalid && businessEntityForm.of1firstName.$touched )}"
                 ng-if="!data.isUserAuthenticated">
                <label>First name</label>
                <div class="field-group">
                    <input placeholder="first name" class="span12" type="text" ng-model="data.businessCreditInfo.firstName"
                           name="of1firstName" maxlength="30" minlength="2" required ng-pattern="/^[a-zA-Z][a-zA-Z &.,-]*$/">
                </div>
                <div class="error-msg">
                <span ng-messages="businessEntityForm.of1firstName.$error" ng-if="businessEntityForm.of1firstName.$touched">
                    <span ng-message="required">Required field</span>
                    <span ng-message="pattern">Invalid character</span>
                    <span ng-message="minlength">First name is too short</span>
                    <span ng-message="maxlength">First name length is exceeding</span>
                </span>
                </div>
            </div>

        </div>
        <div class="row span12 span12-sm ">
            <div class="span12 span6-sm form-row"
                 ng-class="{ 'error' : ( businessEntityForm.of1lastName.$invalid  && businessEntityForm.of1lastName.$touched)}"
                 ng-if="!data.isUserAuthenticated">
                <label>Last name</label>
                <div class="field-group">
                    <input placeholder="last name" class="span12" type="text" ng-model="data.businessCreditInfo.lastName"
                           name="of1lastName" maxlength="30" minlength="2" required ng-pattern="/^[a-zA-Z][a-zA-Z &.,-]*$/">
                </div>
                <div class="error-msg">
                <span ng-messages="businessEntityForm.of1lastName.$error" ng-if="businessEntityForm.of1lastName.$touched">
                    <span ng-message="required">Required field</span>
                    <span ng-message="pattern">Invalid character</span>
                    <span ng-message="minlength">Last name is too short</span>
                    <span ng-message="maxlength">Last name length is exceeding</span>
                </span>
                </div>
            </div>
        </div>

        <div class="form-row"
             ng-class="{'error' :businessEntityForm.of1primaryContact.$invalid && (businessEntityForm.of1primaryContact.$dirty || (businessEntityForm.of1primaryContact.$touched))}"
             ng-if="!data.isUserAuthenticated">
            <label for="primaryContact">Phone number</label>
            <div class="field-group">
                <input type="text" class="span12" id="primaryContact" ng-required="true" placeholder="10-digit number" name="of1primaryContact" maxlength="12" minlength="10" ddh-only-digits ng-model="data.businessCreditInfo.phoneNumber" onkeydown="this.value=this.value.replace(/(\d{3})\.?(\d{3})\.?(\d{1})/,'$1.$2.$3')" ng-pattern="/^(([\d]{3}\.){2}([\d]{4})|[\d]{10})$/">
            </div>
            <div aria-live="polite" aria-atomic="true" class="error-msg">
        <span ng-messages="businessEntityForm.of1primaryContact.$error"
              ng-if="businessEntityForm.of1primaryContact.$dirty || businessEntityForm.of1email.$touched">
            <span ng-message="required">Required field</span>
            <span ng-message="pattern">Enter a 10-digit number</span>
            <span ng-message="minlength">Enter a 10-digit number</span>
            <span ng-message="maxlength">Number exceeds max length</span>
        </span>
            </div>
        </div>
        <div class="form-row" ng-class="{'error' :(businessEntityForm.of1email.$invalid && (businessEntityForm.of1email.$dirty || businessEntityForm.of1email.$touched))}"
             ng-if="!data.isUserAuthenticated">
            <label>Email address</label>
            <div class="field-group">
                <input placeholder="Email" class="span12" type="email" id="email" required name="of1email"
                       ng-model="data.businessCreditInfo.email" ng-maxlength="80"
                       ng-pattern="/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/" >
            </div>
            <div aria-live="polite" aria-atomic="true" class="error-msg">
            <span ng-messages="businessEntityForm.of1email.$error" ng-if="businessEntityForm.of1email.$dirty || businessEntityForm.of1email.$touched">
                <span ng-message="required">Required field</span>
                <span ng-message="maxlength">Email length is exceeding</span>
                <span ng-message="pattern">Enter a valid email address</span>
            </span>
            </div>
        </div>
    </div>
    </div>
    </div>
    <hr class="hr dark hr-marTopBtm30">
    <div class="cta-button-group nodots">
        <button type="submit" class="btn btn-primary-functional" ng-disabled="!businessInfo.$valid" ng-click="submitForm(businessInfo.$valid)">Continue</button>
        <button type="button" class="btn btn-secondary ctaSpacing" ddh-modal="/templates/savecart.html" size-class="modal-large" ng-disabled="!businessInfo.$valid" ng-click="scrollToSaveModal()">Save cart</button>
    </div>
</ng-form>