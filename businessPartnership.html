<ng-form name='solePartner' >
    <div class="mTop30">
    <div class="row span12 span12-sm">
        <div class="span12 form-row span6-sm" ng-class="{'error' : solePartner.person1_firstName.$invalid  && solePartner.person1_firstName.$touched}">
            <label>First name</label>
            <div class="field-group">
                <input placeholder="first name" class="span12" type="text" ng-model="data.businessCreditInfo.firstName" name="person1_firstName" maxlength="30" minlength="2" required ng-pattern="/^[a-zA-Z][a-zA-Z &.,-]*$/">
            </div>
            <div class="error-msg">
                <span ng-messages="solePartner.person1_firstName.$error" ng-if="solePartner.person1_firstName.$touched">
                    <span ng-message="required">Required field</span>
                <span ng-message="minlength">First name is too short</span>
                <span ng-message="maxlength">First name length is exceeding</span>
                <span ng-message="pattern">Invalid character</span>
                </span>
            </div>
        </div>
    </div>
        <div class="row span12 span12-sm">
        <div class="span12 form-row span6-sm" ng-class="{'error' : solePartner.person1_lastName.$invalid  && solePartner.person1_lastName.$touched}">
            <label>Last name</label>
            <div class="field-group">
                <input placeholder="last name" class="span12" type="text" ng-model="data.businessCreditInfo.lastName" name="person1_lastName" maxlength="30"  minlength="2" ng-maxlength="30" ng-minlength="2" required ng-pattern="/^[a-zA-Z][a-zA-Z &.,-]*$/">
            </div>
            <div class="error-msg">
                <span ng-messages="solePartner.person1_lastName.$error" ng-if="solePartner.person1_lastName.$touched">
                <span ng-message="required">Required field</span>
                <span ng-message="minlength">Last name is too short</span>
                <span ng-message="maxlength">Last name length is exceeding</span>
                <span ng-message="pattern">Invalid character</span>
                </span>
            </div>
        </div>
        </div>

    <div class="form-row"
            ng-class="{'error' :solePartner.person1_primaryContact.$invalid && (solePartner.person1_primaryContact.$dirty || (solePartner.person1_primaryContact.$touched))}">
        <label for="primaryContact">Phone number</label>
        <div class="field-group">
            <input type="text" class="span12" id="primaryContact" ng-required="true" placeholder="10-digit number" name="person1_primaryContact" maxlength="12" minlength="10" ddh-only-digits ng-model="data.businessCreditInfo.phoneNumber" onkeydown="this.value=this.value.replace(/(\d{3})\.?(\d{3})\.?(\d{1})/,'$1.$2.$3')" ng-pattern="/^(([\d]{3}\.){2}([\d]{4})|[\d]{10})$/">
        </div>
        <div aria-live="polite" aria-atomic="true" class="error-msg">
    <span ng-messages="solePartner.person1_primaryContact.$error"
            ng-if="solePartner.person1_primaryContact.$dirty || solePartner.person1_primaryContact.$touched">
        <span ng-message="required">Required field</span>
        <span ng-message="pattern">Enter a 10-digit number</span>
        <span ng-message="minlength">Enter a 10-digit number</span>
        <span ng-message="maxlength">Number exceeds max length</span>
    </span>
        </div>
    </div>
    <div class="form-row" ng-class="{'error' :solePartner.person1_email.$invalid && (solePartner.person1_email.$dirty || solePartner.person1_email.$touched)}">
        <label>Email address</label>
        <div class="field-group">
            <input type="email" class="span12" placeholder="Email" id="email" ng-required="true" name="person1_email" ng-model="data.businessCreditInfo.email" ng-maxlength="80" ng-change="checkEmailMatch()" ng-pattern="/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/">
        </div>
        <div aria-live="polite" aria-atomic="true" class="error-msg">
            <span ng-messages="solePartner.person1_email.$error" ng-if="solePartner.person1_email.$dirty || solePartner.person1_email.$touched">
                <span ng-message="required">Required field</span>
            <span ng-message="maxlength">Enter a valid email address</span>
            <span ng-message="pattern">Enter a valid email address</span>
            </span>
        </div>
    </div>
    <div ng-if="data.businessCreditInfo.showDOB" class="form-row" ng-class="{'error' :solePartner.person1_dob.$invalid && (solePartner.person1_dob.$dirty || solePartner.person1_dob.$touched)}">
        <div class="clearfix">
            <label>Date of birth</label>
        </div>
        <div class="field-group tooltip-onclick" ddh-tooltip>
            <input id="dobField" type="text" class="span12" placeholder="mm/dd/yyyy" maxlength="10" ng-pattern="/^(((0[13578]|1[02])\/(0[1-9]|[12]\d|3[01])\/((19|[2-9]\d)\d{2}))|((0[13456789]|1[012])\/(0[1-9]|[12]\d|30)\/((19|[2-9]\d)\d{2}))|(02\/(0[1-9]|1\d|2[0-8])\/((19|[2-9]\d)\d{2}))|(02\/29\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$|^XXXXXXXXXX$/" ng-keyup="addSlashDate('dobField')" ng-model="data.businessCreditInfo.dob" name="person1_dob" ng-required="data.businessCreditInfo.showDOB">
            <button class="btn icon-tooltip tooltip-element" aria-label="Date of Birth" type="button" aria-describedby="tooltipContentCC"></button>
            <div class="helpertext" role="tooltip" aria-live="polite">
                <div class="popover-title"></div>
                <div class="popover-content">
                    <p>You must be at least 18 years of age to place an order for new service. (Exceptions: In Alabama, you must be 19 years of age; in Puerto Rico, 21)</p>
                </div>
            </div>
        </div>
        <div aria-live="polite" aria-atomic="true" class="error-msg">
            <span ng-messages="solePartner.person1_dob.$error" ng-if="solePartner.person1_dob.$dirty || solePartner.person1_dob.$touched">
                <span ng-message="required">Required field</span>
                <span ng-message="pattern">Enter a valid birthdate</span>

            </span>
        </div>
    </div>
    <div ng-hide="cart_has_bus_soln_alone_product" ng-if="data.businessCreditInfo.identityType == 'SSN'" class="form-row span12" ng-class="{'error' :solePartner.person1_ssn.$invalid && (solePartner.person1_ssn.$dirty || solePartner.person1_ssn.$touched)}">
        <div class="clearfix">
            <label class="pull-left">Social security number</label>
        </div>
        <div class="field-group tooltip-onclick" ddh-tooltip>
            <input type="text" class="span12" ddh-only-digits ng-required="data.businessCreditInfo.identityType == 'SSN' && !cart_has_bus_soln_alone_product" placeholder="XXX-XX-XXXX" name="person1_ssn" ng-model="data.businessCreditInfo.identityNumber" ng-pattern="/(^\d{3}[-]?\d{2}[-]?\d{4}$)|(^(XXXXX)(\d{4})$)/" minlength="9" maxlength="9" class="span12" ddh-only-digits>
            <button class="btn icon-tooltip tooltip-element" aria-label="SSN type" type="button" aria-describedby="tooltipContentCC"></button>
            <div class="helpertext" role="tooltip" aria-live="polite">
                <div class="popover-content">
                    <p>We use your Social Security Number to perform an industry-standard credit check. For details, select <strong>Privacy Policy</strong> at the bottom of this page.</p>
                </div>
            </div>
        </div>
        <div aria-live="polite" aria-atomic="true" class="error-msg">
            <span ng-messages="solePartner.person1_ssn.$error" ng-if="solePartner.person1_ssn.$dirty || solePartner.person1_ssn.$touched">
                <span ng-message="required">Required field</span>
            <span ng-message="pattern">Enter a valid SSN</span>
            <span ng-message="minlength">Enter a valid SSN</span>

            </span>
        </div>
    </div>
    <div ng-hide="cart_has_bus_soln_alone_product" class="form-row">
        <div class="form-row">
            <label for="checkbox1" class="checkbox">
                <input id="checkbox1" type="checkbox" ng-model="data.businessCreditInfo.identityType" name="person1_dl_required" ng-true-value="'DL'" ng-false-value="'SSN'" ng-change="data.businessCreditInfo.identityNumber='';data.businessCreditInfo.drivingLicenseState='';data.businessCreditInfo.drivingLicenseExpiry=''"><i class="skin"></i><span>I'd prefer to use my driver license number.</span></label>
            <div class="form-row">
                <a ddh-modal="/templates/ssnModal.html" size-class="modal-jumbo" tabindex="0">Why do we prefer your Social Security Number?</a>
            </div>
        </div>
        <div ng-if="data.businessCreditInfo.identityType=='DL'">
            <div class="form-row" ng-class="{'error' :(solePartner.person1_dlNum.$invalid && solePartner.person1_dlNum.$dirty) || dlnMatch}" >
                <label for="onclicktip2">Driver license number</label>
                <div class="field-group tooltip-onclick" ddh-tooltip>
                    <input type="text" class="span12" name="person1_dlNum" placeholder="" ng-model="data.businessCreditInfo.identityNumber" maxlength="25" minlength="6" ng-required="data.businessCreditInfo.identityType == 'DL' && !cart_has_bus_soln_alone_product" />
                    <button class="reset-field" type="button" aria-label="Reset text field"></button>
                    <button id="tooltipButton2" class="btn icon-tooltip tooltip-element" data-toggle="button" type="button"
                    aria-label="ID help"></button>
                    <div class="helpertext" id="tooltipContent2" role="tooltip">
                        <div class="popover-content">
                            <p>We use your driver license number to perform an industry-standard credit check. For details, click <strong>Privacy Policy</strong> at the bottom of this page.</p>
                        </div>
                    </div>
                </div>
                <div aria-live="polite" aria-atomic="true" class="error-msg">
                    <span ng-messages="solePartner.person1_dlNum.$error" ng-if="solePartner.person1_dlNum.$dirty">
                        <span ng-message="required">Required field</span>
                         <span ng-message="minlength">Enter a valid license number</span>

                    </span>
                </div>
            </div>
            <div class="form-row" ng-class="{'error' :(solePartner.person1_dlState.$invalid && solePartner.person1_dlState.$dirty) || dlnMatch}">
                <div class="clearfix">
                    <label class="pull-left">State</label>
                </div>
                <div class="field-group">
                    <select name="person1_dlState" ddh-dropdown ng-model="data.businessCreditInfo.drivingLicenseState" ng-required="data.businessCreditInfo.identityType == 'DL' && !cart_has_bus_soln_alone_product">
                        <option ddh-dropdown-list option-repeat="state in states" value="{{state.id}}">{{state.text}}
                        </option>
                    </select>
                </div>
                <div aria-live="polite" aria-atomic="true" class="error-msg">
                    <span ng-messages="solePartner.person1_dlState.$error" ng-if="solePartner.person1_dlState.$dirty">
                        <span ng-message="required">Required field</span>
                    </span>
                </div>
            </div>
            <div class="form-row" ng-class="{'error' :solePartner.person1_expDate.$invalid && solePartner.person1_expDate.$dirty}">
                <div class="clearfix">
                    <label class="pull-left">Expiration date</label>
                </div>
                <div class="field-group">
                    <input type="text" id="exdate" name="person1_expDate" class="span12" placeholder="mm/dd/yyyy" ng-model="data.businessCreditInfo.drivingLicenseExpiry" ng-required="data.businessCreditInfo.identityType == 'DL' && !cart_has_bus_soln_alone_product" maxlength="10" onkeydown="this.value=this.value.replace(/(\d{2})\/?(\d{2})\/?(\d{1})/,'$1/$2/$3')" ng-pattern="/^(((0[13578]|1[02])\/(0[1-9]|[12]\d|3[01])\/((19|[2-9]\d)\d{2}))|((0[13456789]|1[012])\/(0[1-9]|[12]\d|30)\/((19|[2-9]\d)\d{2}))|(02\/(0[1-9]|1\d|2[0-8])\/((19|[2-9]\d)\d{2}))|(02\/29\/((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$|^XXXXXXXXXX$/"" ng-keyup="addSlashDate('exdate')" />
                </div>
                <div aria-live="polite" aria-atomic="true" class="error-msg">
                    <span ng-messages="solePartner.person1_expDate.$error" ng-if="solePartner.person1_expDate.$dirty">
                        <span ng-message="required">Required field</span>
                        <span ng-message="pattern">Enter a valid expiration date</span>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <hr class="hr dark hr-marTopBtm30">
    <div class="cta-button-group nodots">
        <button type="submit" class="btn btn-primary-functional" ng-disabled="!businessInfo.$valid" ng-click="submitForm(businessInfo.$valid)">Continue</button>
        <button type="button" class="btn btn-secondary ctaSpacing" ddh-modal="/templates/savecart.html" size-class="modal-large" ng-disabled="!businessInfo.$valid" ng-click="scrollToSaveModal()">Save cart</button>
    </div>
        </div>
</ng-form>
